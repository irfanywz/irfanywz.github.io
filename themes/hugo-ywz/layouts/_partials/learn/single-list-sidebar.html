<h2 class="font-bold text-gray-900 dark:text-white mb-4 px-2">
    {{ .Title }}
</h2>
<ul class="space-y-1">

    <li>
        <a href="{{ .RelPermalink }}" class="flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors {{ if eq .RelPermalink $.RelPermalink }}bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 font-medium{{ else }}text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800{{ end }}">
            <i class="icon-[ri--home-4-line] {{ if eq .RelPermalink $.RelPermalink }}text-indigo-600 dark:text-indigo-400{{ else }}text-gray-400{{ end }}"></i>
                {{ if .Params.section }}
                    {{ .Params.section }}
                {{ else }}
                    {{ .Title }}
                {{ end }}
            </a>
    </li>

    {{ $sortedPosts := sort .Data.Pages "Weight" }}
    {{ range $sortedPosts }}
        {{ if not .IsSection }}
            <li>
                <a href="{{ .RelPermalink }}" class="flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors {{ if eq .RelPermalink $.RelPermalink }}bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 font-medium{{ else }}text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800{{ end }}">
                    <i class="icon-[ri--file-text-line] {{ if eq .RelPermalink $.RelPermalink }}text-indigo-600 dark:text-indigo-400{{ else }}text-gray-400{{ end }}"></i>
                            {{ if .Params.section }}
                                {{ .Params.section }}
                            {{ else }}
                                {{ .Title }}
                            {{ end }}
                        </a>
            </li>
        {{ else }}
            <li class="mt-4 mb-2 px-2">
                <strong class="text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider">{{ .Title }}</strong>
            </li>
            {{ $sortedPosts := sort .Data.Pages "Weight" }}
            <ul class="space-y-1 border-l border-gray-100 dark:border-gray-800 ml-2 pl-2">
                {{ range $sortedPosts }}
                    <li>
                        <a href="{{ .RelPermalink }}" class="flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors {{ if eq .RelPermalink $.RelPermalink }}bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 font-medium{{ else }}text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800{{ end }}">
                            <i class="icon-[ri--file-text-line] {{ if eq .RelPermalink $.RelPermalink }}text-indigo-600 dark:text-indigo-400{{ else }}text-gray-400{{ end }}"></i>
                                    {{ if .Params.section }}
                                        {{ .Params.section }}
                                    {{ else }}
                                        {{ .Title }}
                                    {{ end }}
                                </a>
                    </li>
                {{ end }}
            </ul>
        {{ end }}
    {{ end }}

</ul>