<a href="{{ .RelPermalink }}" class="block bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden hover:shadow-md transition-all duration-300 flex flex-col h-full group">
    <div class="relative h-64 bg-gray-100 dark:bg-gray-700 overflow-hidden">

        {{ if isset .Params "image" }}

            {{ if hasPrefix .Params.image "http" }}
            <img src='{{ .Params.image }}' alt='{{ .Title }}' class="p-2 w-full h-full object-contain transition-transform duration-500 group-hover:scale-105" />
            {{ else }}
                <img src='{{ .RelPermalink }}{{ .Params.image }}' alt='{{ .Title }}' class="p-2 w-full h-full object-contain transition-transform duration-500 group-hover:scale-105" />
            {{ end }}  

        {{ end }}
    </div>
    <div class="p-6 flex flex-col flex-grow">
        <div class="flex flex-wrap gap-2 mb-3">
            {{ if isset .Params "category" }}
                <span class="inline-flex items-center gap-1 px-2.5 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs font-medium rounded-md">
                    {{ partial "project/category.html" . }}
                </span>
            {{ end }}
            {{ if isset .Params "date" }}
                <span class="inline-flex items-center gap-1 px-2.5 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs font-medium rounded-md">
                    <span class="icon-[ri--calendar-line] w-3 h-3"></span>
                    {{ .Date | time.Format "January 2006" }}
                </span>
            {{ end }}
        </div>

        <h3 class="text-xl font-bold text-gray-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors mb-3 leading-tight">
            {{.Title}}
        </h3>

        <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed line-clamp-3 mb-4 flex-grow">
            {{ if isset .Params "description" }}
                {{ .Description }}
            {{ else if gt (countrunes (.Content | plainify)) 120 }}
                {{ slicestr (.Content | plainify) 0 120 | safeHTML }}...
            {{ else }}
                {{ .Content | plainify | safeHTML }}
            {{ end }}
        </p>

    </div>
</a>